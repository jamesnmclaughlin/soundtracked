{"ast":null,"code":"import _slicedToArray from \"/Users/jamesmclaughlin/Sites/soundtracked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jamesmclaughlin/Sites/soundtracked/src/components/handlers/LastfmHandle.js\";\nimport axios from 'axios';\nimport React from 'react';\nvar md5 = require('md5');\nvar baseURL = \"http://ws.audioscrobbler.com/2.0\";\nvar urlParameters = new URLSearchParams(window.location.search);\nvar authcode = urlParameters.get(\"token\");\nvar _process$env = process.env,\n  REACT_APP_LASTFM_API_KEY = _process$env.REACT_APP_LASTFM_API_KEY,\n  REACT_APP_LASTFM_CLIENT_SECRET = _process$env.REACT_APP_LASTFM_CLIENT_SECRET;\nvar _React$useState = React.useState(null),\n  _React$useState2 = _slicedToArray(_React$useState, 2),\n  postdata = _React$useState2[0],\n  setPostData = _React$useState2[1];\nvar api_sig = md5(\"api_key\" + REACT_APP_LASTFM_API_KEY + \"methodauth.getSessiontoken\" + authcode + REACT_APP_LASTFM_CLIENT_SECRET);\nexport default function LastfmHandle() {\n  authenticateApplication();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, \" \"));\n}\nfunction authenticateApplication() {\n  axios.post(baseURL, {\n    method: \"auth.getSession\",\n    api_key: REACT_APP_LASTFM_API_KEY,\n    token: authcode,\n    api_sig: api_sig\n  }).then(function (response) {\n    setPostData(response.data);\n    console.log(response.data);\n  });\n}","map":{"version":3,"names":["axios","React","md5","require","baseURL","urlParameters","URLSearchParams","window","location","search","authcode","get","_process$env","process","env","REACT_APP_LASTFM_API_KEY","REACT_APP_LASTFM_CLIENT_SECRET","_React$useState","useState","_React$useState2","_slicedToArray","postdata","setPostData","api_sig","LastfmHandle","authenticateApplication","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","color","post","method","api_key","token","then","response","data","console","log"],"sources":["/Users/jamesmclaughlin/Sites/soundtracked/src/components/handlers/LastfmHandle.js"],"sourcesContent":["import axios from 'axios';\nimport React from 'react';\n\nconst md5 = require('md5');\nconst baseURL = \"http://ws.audioscrobbler.com/2.0\";\nconst urlParameters = new URLSearchParams(window.location.search);\nconst authcode = urlParameters.get(\"token\");\nconst { REACT_APP_LASTFM_API_KEY, REACT_APP_LASTFM_CLIENT_SECRET } = process.env;\n\nconst [postdata, setPostData] = React.useState(null);\n\nconst api_sig = md5(\"api_key\" + REACT_APP_LASTFM_API_KEY + \"methodauth.getSessiontoken\" + authcode + REACT_APP_LASTFM_CLIENT_SECRET)\n\nexport default function LastfmHandle() {\n\n\n    authenticateApplication()\n\n    return (\n        <div>\n            <p style={{ color: '#000' }}> { }</p>\n        </div>\n    );\n}\n\nfunction authenticateApplication() {\n    axios\n        .post(baseURL, {\n            method: \"auth.getSession\",\n            api_key: REACT_APP_LASTFM_API_KEY,\n            token: authcode,\n            api_sig: api_sig\n        })\n        .then((response) => {\n            setPostData(response.data);\n            console.log(response.data);\n        });\n\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AAEzB,IAAMC,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;AAC1B,IAAMC,OAAO,GAAG,kCAAkC;AAClD,IAAMC,aAAa,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;AACjE,IAAMC,QAAQ,GAAGL,aAAa,CAACM,GAAG,CAAC,OAAO,CAAC;AAAC,IAAAC,YAAA,GACyBC,OAAO,CAACC,GAAG;EAAxEC,wBAAwB,GAAAH,YAAA,CAAxBG,wBAAwB;EAAEC,8BAA8B,GAAAJ,YAAA,CAA9BI,8BAA8B;AAAA,IAAAC,eAAA,GAEhChB,KAAK,CAACiB,QAAQ,CAAC,IAAI,CAAC;EAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;EAA7CI,QAAQ,GAAAF,gBAAA;EAAEG,WAAW,GAAAH,gBAAA;AAE5B,IAAMI,OAAO,GAAGrB,GAAG,CAAC,SAAS,GAAGa,wBAAwB,GAAG,4BAA4B,GAAGL,QAAQ,GAAGM,8BAA8B,CAAC;AAEpI,eAAe,SAASQ,YAAYA,CAAA,EAAG;EAGnCC,uBAAuB,EAAE;EAEzB,oBACIxB,KAAA,CAAAyB,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACI/B,KAAA,CAAAyB,aAAA;IAAGO,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAO,CAAE;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,GAAC,CAAO,CACnC;AAEd;AAEA,SAASP,uBAAuBA,CAAA,EAAG;EAC/BzB,KAAK,CACAmC,IAAI,CAAC/B,OAAO,EAAE;IACXgC,MAAM,EAAE,iBAAiB;IACzBC,OAAO,EAAEtB,wBAAwB;IACjCuB,KAAK,EAAE5B,QAAQ;IACfa,OAAO,EAAEA;EACb,CAAC,CAAC,CACDgB,IAAI,CAAC,UAACC,QAAQ,EAAK;IAChBlB,WAAW,CAACkB,QAAQ,CAACC,IAAI,CAAC;IAC1BC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACC,IAAI,CAAC;EAC9B,CAAC,CAAC;AAEV"},"metadata":{},"sourceType":"module"}