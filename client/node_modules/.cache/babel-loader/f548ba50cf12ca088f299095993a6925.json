{"ast":null,"code":"import _slicedToArray from \"/Users/jamesmclaughlin/Sites/soundtracked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jamesmclaughlin/Sites/soundtracked/client/src/components/handlers/FitbitHandle.js\";\nimport axios from 'axios';\nimport React, { useEffect } from 'react';\nvar md5 = require('md5');\nexport default function FitbitHandle() {\n  var baseURL = \"http://ws.audioscrobbler.com/2.0\";\n  var urlParameters = new URLSearchParams(window.location.search);\n  var authcode = urlParameters.get(\"token\");\n  var _process$env = process.env,\n    REACT_APP_LASTFM_API_KEY = _process$env.REACT_APP_LASTFM_API_KEY,\n    REACT_APP_LASTFM_CLIENT_SECRET = _process$env.REACT_APP_LASTFM_CLIENT_SECRET;\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    postdata = _React$useState2[0],\n    setPostData = _React$useState2[1];\n  var apiSig = md5(\"api_key\" + REACT_APP_LASTFM_API_KEY + \"methodauth.getSessiontoken\" + authcode + REACT_APP_LASTFM_CLIENT_SECRET);\n  function authenticateApplication() {\n    console.log(\"test\");\n    axios.post(baseURL, {\n      method: \"auth.getSession\",\n      api_key: REACT_APP_LASTFM_API_KEY,\n      token: authcode,\n      api_sig: apiSig\n    }, {\n      headers: {\n        'Content-Type': \"application/x-www-form-urlencoded;charset=UTF-8\"\n      }\n    }).then(function (response) {\n      setPostData(response.data);\n      console.log(response.data);\n    });\n  }\n  useEffect(function () {\n    authenticateApplication();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#000'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \" \"));\n}","map":{"version":3,"names":["axios","React","useEffect","md5","require","FitbitHandle","baseURL","urlParameters","URLSearchParams","window","location","search","authcode","get","_process$env","process","env","REACT_APP_LASTFM_API_KEY","REACT_APP_LASTFM_CLIENT_SECRET","_React$useState","useState","_React$useState2","_slicedToArray","postdata","setPostData","apiSig","authenticateApplication","console","log","post","method","api_key","token","api_sig","headers","then","response","data","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","color"],"sources":["/Users/jamesmclaughlin/Sites/soundtracked/client/src/components/handlers/FitbitHandle.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect } from 'react';\n\nconst md5 = require('md5');\n\nexport default function FitbitHandle() {\n\n    const baseURL = \"http://ws.audioscrobbler.com/2.0\";\n    const urlParameters = new URLSearchParams(window.location.search);\n    const authcode = urlParameters.get(\"token\");\n    const {REACT_APP_LASTFM_API_KEY, REACT_APP_LASTFM_CLIENT_SECRET} = process.env;\n\n    const [postdata, setPostData] = React.useState('');\n\n    const apiSig = md5(\"api_key\" + REACT_APP_LASTFM_API_KEY + \"methodauth.getSessiontoken\" + authcode + REACT_APP_LASTFM_CLIENT_SECRET)\n\n    function authenticateApplication() {\n        console.log(\"test\");\n        axios\n            .post(baseURL, {\n                method: \"auth.getSession\",\n                api_key: REACT_APP_LASTFM_API_KEY,\n                token: authcode,\n                api_sig: apiSig\n            },\n            {\n                headers: {\n                    'Content-Type': \"application/x-www-form-urlencoded;charset=UTF-8\"\n                }\n            })\n            .then((response) => {\n                setPostData(response.data);\n                console.log(response.data);\n            });\n\n    }\n    \n    useEffect(() => {\n        authenticateApplication();\n    }, []);\n\n    return (\n        <div>\n            <p style={{color: '#000'}}> {  }</p>\n        </div>\n    );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,IAAMC,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;AAE1B,eAAe,SAASC,YAAYA,CAAA,EAAG;EAEnC,IAAMC,OAAO,GAAG,kCAAkC;EAClD,IAAMC,aAAa,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;EACjE,IAAMC,QAAQ,GAAGL,aAAa,CAACM,GAAG,CAAC,OAAO,CAAC;EAAC,IAAAC,YAAA,GACuBC,OAAO,CAACC,GAAG;IAAvEC,wBAAwB,GAAAH,YAAA,CAAxBG,wBAAwB;IAAEC,8BAA8B,GAAAJ,YAAA,CAA9BI,8BAA8B;EAAA,IAAAC,eAAA,GAE/BlB,KAAK,CAACmB,QAAQ,CAAC,EAAE,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAA3CI,QAAQ,GAAAF,gBAAA;IAAEG,WAAW,GAAAH,gBAAA;EAE5B,IAAMI,MAAM,GAAGtB,GAAG,CAAC,SAAS,GAAGc,wBAAwB,GAAG,4BAA4B,GAAGL,QAAQ,GAAGM,8BAA8B,CAAC;EAEnI,SAASQ,uBAAuBA,CAAA,EAAG;IAC/BC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnB5B,KAAK,CACA6B,IAAI,CAACvB,OAAO,EAAE;MACXwB,MAAM,EAAE,iBAAiB;MACzBC,OAAO,EAAEd,wBAAwB;MACjCe,KAAK,EAAEpB,QAAQ;MACfqB,OAAO,EAAER;IACb,CAAC,EACD;MACIS,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC,CACDC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAChBZ,WAAW,CAACY,QAAQ,CAACC,IAAI,CAAC;MAC1BV,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAACC,IAAI,CAAC;IAC9B,CAAC,CAAC;EAEV;EAEAnC,SAAS,CAAC,YAAM;IACZwB,uBAAuB,EAAE;EAC7B,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIzB,KAAA,CAAAqC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACI3C,KAAA,CAAAqC,aAAA;IAAGO,KAAK,EAAE;MAACC,KAAK,EAAE;IAAM,CAAE;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,GAAC,CAAQ,CAClC;AAEd"},"metadata":{},"sourceType":"module"}