{"ast":null,"code":"import _slicedToArray from \"/Users/jamesmclaughlin/Sites/soundtracked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jamesmclaughlin/Sites/soundtracked/client/src/components/get-runs.js\";\nimport React, { useEffect } from 'react';\nimport { checkServiceConnection, reconnectService } from './functions/functions';\nimport time from '../resources/time.png';\nimport distance from '../resources/distance.png';\nimport elevation from '../resources/elevation.png';\nimport calendar from '../resources/calendar.png';\nvar baseURL = \"https://www.strava.com/api/v3\";\nexport default function GetRuns() {\n  var _this = this;\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    postdata = _React$useState2[0],\n    setPostData = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    isLoading = _React$useState4[0],\n    setLoading = _React$useState4[1];\n  var apiFunction = \"/athlete/activities\";\n  var fetchData = function fetchData() {\n    if (checkServiceConnection(\"strava\")) {\n      fetch(baseURL + apiFunction, {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"strava_access_token\")\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (response) {\n        setPostData(response);\n        setLoading(false);\n      }).catch(function (err) {\n        return console.log(\"error\");\n      });\n    }\n  };\n  useEffect(function () {\n    fetchData();\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: '#000'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, \"Loading...\"));\n  }\n  var activities = postdata.map(function (activity) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: activity.id,\n      className: \"run\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"icon\",\n      src: calendar,\n      alt: \"info-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 18\n      }\n    }), new Date(activity.start_date).toLocaleString().split(',')[0]), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"icon\",\n      src: time,\n      alt: \"info-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 18\n      }\n    }), new Date(parseInt(activity.elapsed_time) * 1000).toISOString().slice(11, 19)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"icon\",\n      src: distance,\n      alt: \"info-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 18\n      }\n    }), parseInt(activity.distance) / 1000, \"km\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"icon\",\n      src: elevation,\n      alt: \"info-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 18\n      }\n    }), activity.total_elevation_gain, \"ft\"));\n  });\n  return activities;\n}","map":{"version":3,"names":["React","useEffect","checkServiceConnection","reconnectService","time","distance","elevation","calendar","baseURL","GetRuns","_this","_React$useState","useState","_React$useState2","_slicedToArray","postdata","setPostData","_React$useState3","_React$useState4","isLoading","setLoading","apiFunction","fetchData","fetch","headers","Authorization","localStorage","getItem","then","res","json","response","catch","err","console","log","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","color","activities","map","activity","key","id","className","src","alt","Date","start_date","toLocaleString","split","parseInt","elapsed_time","toISOString","slice","total_elevation_gain"],"sources":["/Users/jamesmclaughlin/Sites/soundtracked/client/src/components/get-runs.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { checkServiceConnection, reconnectService } from './functions/functions';\nimport time from '../resources/time.png';\nimport distance from '../resources/distance.png';\nimport elevation from '../resources/elevation.png';\nimport calendar from '../resources/calendar.png';\n\nconst baseURL = \"https://www.strava.com/api/v3\";\n\nexport default function GetRuns() {\n\n    const [postdata, setPostData] = React.useState([]);\n    const [isLoading, setLoading] = React.useState(true); \n    const apiFunction = \"/athlete/activities\";\n\n    const fetchData = () => {\n        if (checkServiceConnection(\"strava\")) {\n\n            fetch(baseURL + apiFunction, {\n                headers: {\n                    Authorization: \"Bearer \" + localStorage.getItem(\"strava_access_token\")\n                }\n            })\n            .then(res => res.json())\n            .then((response) => {\n\n                setPostData(response);\n\n                setLoading(false);\n            })\n            .catch((err) => console.log(\"error\"));\n        }\n    }\n    \n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    if (isLoading) {\n        return <div><p style={{color: '#000'}}>Loading...</p></div>\n    }\n\n    const activities = postdata.map((activity) => \n        <div key={ activity.id } className=\"run\">\n            <div><img className=\"icon\" src={calendar} alt='info-icon'/>{ new Date(activity.start_date).toLocaleString().split(',')[0]}</div>\n            <div><img className=\"icon\" src={time} alt='info-icon'/>{ new Date(parseInt(activity.elapsed_time) * 1000).toISOString().slice(11, 19) }</div>\n            <div><img className=\"icon\" src={distance} alt='info-icon'/>{ parseInt(activity.distance)/1000 }km</div>\n            <div><img className=\"icon\" src={elevation} alt='info-icon'/>{ activity.total_elevation_gain }ft</div>\n        </div>\n    );\n\n    return activities;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}