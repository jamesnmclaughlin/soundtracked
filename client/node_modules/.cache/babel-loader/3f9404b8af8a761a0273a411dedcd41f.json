{"ast":null,"code":"import _slicedToArray from \"/Users/jamesmclaughlin/Sites/soundtracked/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jamesmclaughlin/Sites/soundtracked/client/src/components/recommendation.js\";\nimport React, { useEffect } from 'react';\nimport { checkSpotifyConnection, getSeeds } from './functions/functions';\nvar baseURL = \"https://www.api.spotify.com/v1/\";\nexport default function Reccomendation() {\n  var apiFunction = \"recommendations\";\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    postdata = _React$useState2[0],\n    setPostData = _React$useState2[1];\n  var _React$useState3 = React.useState(true),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    isLoading = _React$useState4[0],\n    setLoading = _React$useState4[1];\n  var fetchData = function fetchData() {\n    if (checkSpotifyConnection()) {\n      var seedValues = getSeeds();\n      fetch(baseURL + apiFunction, {\n        headers: {\n          Authorizaton: \"Bearer \" + localStorage.getItem(\"spotify_access_token\"),\n          \"Content-Type\": \"application/json\"\n        },\n        body: {\n          seed_artists: null,\n          seed_genres: null,\n          seed_tracks: seedValues,\n          limit: 8\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (response) {\n        setPostData(response);\n        setLoading(false);\n      }).catch(function (err) {\n        return console.log(\"error\");\n      });\n    }\n  };\n  useEffect(function () {\n    fetchData();\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: '#000'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, \"Loading...\"));\n  }\n\n  /*\n  const recommendations = postdata.map((recommendation) => \n      <div key={recommendation.id} className=\"song\" >\n          <img src={recommendation.imageURL} alt={recommendation.title}/>\n          <div>\n              <h2>{recommendation.title}</h2>\n              <p>{recommendation.artist}</p>\n          </div>\n      </div>\n  ); */\n\n  var recommendations = JSON.stringify(postdata);\n  return recommendations;\n}","map":{"version":3,"names":["React","useEffect","checkSpotifyConnection","getSeeds","baseURL","Reccomendation","apiFunction","_React$useState","useState","_React$useState2","_slicedToArray","postdata","setPostData","_React$useState3","_React$useState4","isLoading","setLoading","fetchData","seedValues","fetch","headers","Authorizaton","localStorage","getItem","body","seed_artists","seed_genres","seed_tracks","limit","then","res","json","response","catch","err","console","log","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","color","recommendations","JSON","stringify"],"sources":["/Users/jamesmclaughlin/Sites/soundtracked/client/src/components/recommendation.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { checkSpotifyConnection, getSeeds } from './functions/functions';\n\nconst baseURL = \"https://www.api.spotify.com/v1/\";\n\nexport default function Reccomendation() {\n\n    const apiFunction = \"recommendations\";\n\n    const [postdata, setPostData] = React.useState([]);\n    const [isLoading, setLoading] = React.useState(true);\n\n    const fetchData = () => {\n        if (checkSpotifyConnection()) {\n\n            const seedValues = getSeeds();\n\n            fetch(baseURL + apiFunction, {\n                headers: {\n                    Authorizaton: \"Bearer \" + localStorage.getItem(\"spotify_access_token\"),\n                    \"Content-Type\": \"application/json\"\n                },\n                body: {\n                    seed_artists: null,\n                    seed_genres: null,\n                    seed_tracks: seedValues,\n                    limit: 8\n                }\n            })\n            .then(res => res.json())\n            .then((response) => {\n\n                setPostData(response);\n\n                setLoading(false);\n            })\n            .catch((err) => console.log(\"error\"));\n        }\n    }\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    if (isLoading) {\n        return <div><p style={{color: '#000'}}>Loading...</p></div>\n    }\n    \n    /*\n    const recommendations = postdata.map((recommendation) => \n        <div key={recommendation.id} className=\"song\" >\n            <img src={recommendation.imageURL} alt={recommendation.title}/>\n            <div>\n                <h2>{recommendation.title}</h2>\n                <p>{recommendation.artist}</p>\n            </div>\n        </div>\n    ); */\n\n    const recommendations = JSON.stringify(postdata);\n\n    return recommendations;\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,sBAAsB,EAAEC,QAAQ,QAAQ,uBAAuB;AAExE,IAAMC,OAAO,GAAG,iCAAiC;AAEjD,eAAe,SAASC,cAAcA,CAAA,EAAG;EAErC,IAAMC,WAAW,GAAG,iBAAiB;EAAC,IAAAC,eAAA,GAENP,KAAK,CAACQ,QAAQ,CAAC,EAAE,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAA3CI,QAAQ,GAAAF,gBAAA;IAAEG,WAAW,GAAAH,gBAAA;EAAA,IAAAI,gBAAA,GACIb,KAAK,CAACQ,QAAQ,CAAC,IAAI,CAAC;IAAAM,gBAAA,GAAAJ,cAAA,CAAAG,gBAAA;IAA7CE,SAAS,GAAAD,gBAAA;IAAEE,UAAU,GAAAF,gBAAA;EAE5B,IAAMG,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;IACpB,IAAIf,sBAAsB,EAAE,EAAE;MAE1B,IAAMgB,UAAU,GAAGf,QAAQ,EAAE;MAE7BgB,KAAK,CAACf,OAAO,GAAGE,WAAW,EAAE;QACzBc,OAAO,EAAE;UACLC,YAAY,EAAE,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,sBAAsB,CAAC;UACtE,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAE;UACFC,YAAY,EAAE,IAAI;UAClBC,WAAW,EAAE,IAAI;UACjBC,WAAW,EAAET,UAAU;UACvBU,KAAK,EAAE;QACX;MACJ,CAAC,CAAC,CACDC,IAAI,CAAC,UAAAC,GAAG;QAAA,OAAIA,GAAG,CAACC,IAAI,EAAE;MAAA,EAAC,CACvBF,IAAI,CAAC,UAACG,QAAQ,EAAK;QAEhBpB,WAAW,CAACoB,QAAQ,CAAC;QAErBhB,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,CACDiB,KAAK,CAAC,UAACC,GAAG;QAAA,OAAKC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MAAA,EAAC;IACzC;EACJ,CAAC;EAEDnC,SAAS,CAAC,YAAM;IACZgB,SAAS,EAAE;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIF,SAAS,EAAE;IACX,oBAAOf,KAAA,CAAAqC,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAAK3C,KAAA,CAAAqC,aAAA;MAAGO,KAAK,EAAE;QAACC,KAAK,EAAE;MAAM,CAAE;MAAAP,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,YAAU,CAAI,CAAM;EAC/D;;EAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEI,IAAMG,eAAe,GAAGC,IAAI,CAACC,SAAS,CAACrC,QAAQ,CAAC;EAEhD,OAAOmC,eAAe;AAC1B"},"metadata":{},"sourceType":"module"}